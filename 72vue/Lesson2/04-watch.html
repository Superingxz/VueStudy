<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<script type="text/javascript" src="../vue/vue.js"></script>
</head>
<body>
	<div id="div1">
		<input type="text" v-model="a">
		<input type="text" v-model="b">
		<input type="text" v-model="c">
		<input type="text" v-model="d">
	</div>

	<script type="text/javascript">
		//监听属性，当属性发生改变的时候会触发对应的 watch
		//watch 监听的是 data 里面的属性值
		//computed 的 getter 和 setter 是获取新的属性值变化
		//watch 不能听到到 computed 的属性
		var vm = new Vue({
			el: '#div1',
			data: {
				a: 1,
				b: 2,
				c: 3,
				someMethod: function(val, oldVal){
					console.log('new: %s, old: %s', val, oldVal)
				}
			},
			computed: {
				d: {
					get: function(){
						console.log('get val %s', this.a);
						return 123;
					},
					set: function(newVal){
						console.log('set val %s', newVal);
					}
				}
			},
			watch: {
				a: function (newVal, oldVal) {
				  console.log('new: %s, old: %s', newVal, oldVal)
				},
				// 方法名
				b: 'someMethod',
				// 深度 watcher
				c: {
				  handler: function (newVal, oldVal) {
				  	console.log('new: %s, old: %s', newVal, oldVal)
				  },
				  deep: true
				},
				d: function(){
					console.log(333);
				}
			}
		})


	</script>
</body>
</html>
